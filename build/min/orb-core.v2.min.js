var Orb=Orb||{};Orb.Constant=Orb.Constant||{PI:Math.PI,RAD:Math.PI/180,AU:149597870.7,RE:6378.137,LD:384e3,LY:Number("9.46073E+12"),PC:Number("3.08568E+13"),G:Number("6.6740831E-11"),GM:Number("2.9591220828559093E-4"),Planets:["Sun","Mercury","Venus","Earth","Moon","Mars","Jupiter","Saturn","Uranus","Neptune"],Sun:{radius:696019,obliquity:7.25,mass:Number("1.989E+30"),gm:Number("1.327124400189E+11")},Mercury:{radius:2439.7,obliquity:.027,mass:Number("3.301E+23"),gm:220329},Venus:{radius:6051.8,obliquity:177.36,mass:Number("4.867E+24"),gm:3248599},Earth:{radius:6378.15,obliquity:23.435,mass:Number("5.972E+24"),gm:Number("3.9860044189E+5")},Moon:{radius:1737.4,obliquity:1.5424,mass:Number("7.346E+22"),gm:4904.86959},Mars:{radius:3397.2,obliquity:25,mass:Number("6.417E+24"),gm:42828.9},Jupiter:{radius:71492,obliquity:3.08,mass:Number("1.899E+27"),gm:1266865349},Saturn:{radius:60268,obliquity:26.7,mass:Number("5.685E+26"),gm:379311879},Uranus:{radius:25559,obliquity:97.9,mass:Number("8.682E+26"),gm:57939399},Neptune:{radius:24786,obliquity:29.6,mass:Number("1.024E+26"),gm:68365299}},Orb.Const=Orb.Constant,Orb.RoundAngle=Orb.RoundAngle||function(e){var t=e%360;return t<0&&(t+=360),t},Orb.Time=Orb.Time||function(e){if(e)t=e;else var t=new Date;this.date=t,this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hours=t.getUTCHours(),this.minutes=t.getUTCMinutes(),this.seconds=t.getUTCSeconds()},Orb.Time.prototype={time_in_day:function(){return this.hours/24+this.minutes/1440+this.seconds/86400},jd:function(){var e=this.year,t=this.month,a=this.day,r=this.time_in_day();if(t<=2)var e=e-1,t=t+12;var i=Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+a-1524.5;if(i<2299160.5)n=0;else var s=Math.floor(e/100),n=2-s+Math.floor(s/4);return i+n+r},gmst:function(){var e=Orb.Constant.RAD,t=3600*this.hours+60*this.minutes+this.seconds,a=(this.jd()-this.time_in_day()-2451545)/36525,r=(24110.5484+8640184.812866*a+.093104*a*a+62e-7*a*a*a)/3600;r>24&&(r%=24);var i=r+1.00273790925*t/3600,s=23.43929111111111-46.815/3600*a-59e-5/3600*a*a+.001813/3600*a*a*a,n=125.04452-1934.136261*a+.0020708*a*a+a*a*a/45e4,o=280.4665+36000.7698*a,u=218.3165+481267.8813*a;return(i+=(-17.2*Math.sin(n*e)- -1.32*Math.sin(2*o*e)-.23*Math.sin(2*u*e)+.21*Math.sin(2*n*e))/15*Math.cos(s*e)/3600)<0&&(i=i%24+24),i>24&&(i%=24),i},delta_t:function(){var e=this.year,t=e+(this.month-.5)/12;if(e<=-500)r=32*(i=(t-1820)/100)*i-20;else if(e>-500&&e<=500)r=10583.6-1014.41*(i=t/100)+33.78311*i*i-5.952053*i*i*i-.1798452*i*i*i*i+.022174192*i*i*i*i*i+.0090316521*i*i*i*i*i;else if(e>500&&e<=1600)r=1574.2-556.01*(i=(t-1e3)/100)+71.23472*i*i+.319781*i*i*i-.8503463*i*i*i*i-.005050998*i*i*i*i*i+.0083572073*i*i*i*i*i*i;else if(e>1600&&e<=1700)r=120-.9808*(a=t-1600)-.01532*a*a+a*a*a/7129;else if(e>1700&&e<=1800)r=8.83+.1603*(a=t-1700)-.0059285*a*a+13336e-8*a*a*a-a*a*a*a/1174e3;else if(e>1800&&e<=1860)r=13.72-.332447*(a=t-1800)+.0068612*a*a+.0041116*a*a*a-37436e-8*a*a*a*a+121272e-10*a*a*a*a*a-1.699e-7*a*a*a*a*a*a+8.75e-10*a*a*a*a*a*a*a;else if(e>1860&&e<=1900)r=7.62+.5737*(a=t-1860)-.251754*a*a+.01680668*a*a*a-.0004473624*a*a*a*a+a*a*a*a*a/233174;else if(e>1900&&e<=1920)r=1.494119*(a=t-1900)-2.79-.0598939*a*a+.0061966*a*a*a-197e-6*a*a*a*a;else if(e>1920&&e<=1941)r=21.2+.84493*(a=t-1920)-.0761*a*a+.0020936*a*a*a;else if(e>1941&&e<=1961)r=29.07+.407*(a=t-1950)-a*a/233+a*a*a/2547;else if(e>1961&&e<=1986)r=45.45+1.067*(a=t-1975)-a*a/260-a*a*a/718;else if(e>1986&&e<=2005)r=63.86+.3345*(a=t-2e3)-.060374*a*a+.0017275*a*a*a+651814e-9*a*a*a*a+2373599e-11*a*a*a*a*a;else if(e>2005&&e<=2050)var a=t-2e3,r=62.92+.32217*a+.005589*a*a;else if(e>2050&&e<=2150)r=(t-1820)/100*32*((t-1820)/100)-20-.5628*(2150-t);else if(e>2150)var i=(t-1820)/100,r=32*i*i-20;return r},doy:function(){var e=this.date,t=new Date(Date.UTC(e.getFullYear()-1,11,31,0,0,0));return((e.getTime()-e.getTimezoneOffset()-t.getTime())/864e5).toFixed(8)}},Orb.Earth=function(){},Orb.Earth.prototype={xyz:function(e){for(var t=(new Orb.Time(e).jd()-2451545)/365250,a=[0,0,0],r=Orb.Terms.Earth,i=0,s=r.length;i<s;i++){var n=r[i],o=n[0],u=Math.pow(t,Number(n[1]))*Number(n[2])*Math.cos(Number(n[3])+Number(n[4])*t);a[o]=a[o]+u}return{x:a[0],y:a[1],z:a[2],date:e,coordinate_keywords:"ecliptic rectangular",unit_keywords:"au"}},radec:function(e){return{ra:0,dec:0,distance:0,date:e,coordinate_keywords:"equatorial spherical",unit_keywords:"hours degree"}}},Orb.Terms=Orb.Terms||{},Orb.Terms.Earth=[[0,0,.99982928844,1.75348568475,6283.0758499914],[0,0,.008352573,1.7103453945,12566.1516999828],[0,0,.00561144206,0,0],[0,0,.00010466628,1.66722645223,18849.2275499742],[0,0,3110838e-11,.66875185215,83996.84731811189],[0,0,2552498e-11,.58310207301,529.6909650946],[0,0,2137256e-11,1.09235189672,1577.3435424478],[0,0,1709103e-11,.49540223397,6279.5527316424],[0,0,1707882e-11,6.15315547484,6286.5989683404],[0,0,1445242e-11,3.4727278376,2352.8661537718],[0,0,1091006e-11,3.68984782465,5223.6939198022],[0,0,934429e-11,6.07389922585,12036.4607348882],[0,0,899144e-11,3.17571950523,10213.285546211],[0,0,566514e-11,2.15262034016,1059.3819301892],[0,0,684416e-11,1.30699021227,5753.3848848968],[0,0,734455e-11,4.3550019653,398.1490034082],[0,0,681437e-11,2.21821534685,4705.7323075436],[0,0,611238e-11,5.38479234323,6812.766815086],[0,0,451836e-11,6.08768280868,5884.9268465832],[0,0,451953e-11,1.27933728354,6256.7775301916],[0,0,449517e-11,5.36923831714,6309.3741697912],[0,0,406248e-11,.54361367084,6681.2248533996],[0,0,540957e-11,.78677364655,775.522611324],[0,0,547004e-11,1.46146650376,14143.4952424306],[0,0,520484e-11,4.43295799975,7860.4193924392],[0,0,21496e-10,4.50213844573,11506.7697697936],[0,0,227892e-11,1.23941482802,7058.5984613154],[0,0,225878e-11,3.27244306207,4694.0029547076],[0,0,25582e-10,2.26556277246,12168.0026965746],[0,0,256182e-11,1.4547411619,709.9330485583],[0,0,17812e-10,2.96205424204,796.2980068164],[0,0,161205e-11,1.47337718956,5486.777843175],[0,0,178325e-11,6.24374704602,6283.14316029419],[0,0,178325e-11,.40466470869,6283.0085396886],[0,0,155487e-11,1.62409309523,25132.3033999656],[0,0,209024e-11,5.85207528073,11790.6290886588],[0,0,199971e-11,4.07209938245,17789.845619785],[0,0,128933e-11,5.2169331415,7079.3738568078],[0,0,128099e-11,4.80182882228,3738.761430108],[0,0,151691e-11,.86921639327,213.299095438],[0,1,.00123403056,0,0],[0,1,.00051500156,6.00266267204,12566.1516999828],[0,1,1290726e-11,5.95943124583,18849.2275499742],[0,1,1068627e-11,2.01554176551,6283.0758499914],[0,1,212689e-11,1.73380190491,6279.5527316424],[0,1,212515e-11,4.91489371033,6286.5989683404],[0,1,6.226e-7,.36239798178,4705.7323075436],[0,1,5.9822e-7,3.81195369871,6256.7775301916],[0,1,5.9514e-7,2.8363416015,6309.3741697912],[0,1,4.8841e-7,5.21419389335,775.522611324],[0,1,4.2883e-7,.43789776559,1059.3819301892],[0,1,4.6286e-7,.01839494103,7860.4193924392],[0,1,3.5675e-7,1.45279327264,5884.9268465832],[0,1,3.6061e-7,2.16002201071,5753.3848848968],[0,1,3.5367e-7,4.47243820095,6812.766815086],[0,1,3.2137e-7,5.19589851893,6681.2248533996],[0,1,2.8763e-7,5.91618989512,25132.3033999656],[0,1,2.8447e-7,1.14976253807,6127.6554505572],[0,1,2.7573e-7,5.50119104683,6438.4962494256],[0,1,2.4815e-7,2.92204909812,5486.777843175],[0,1,2.0611e-7,3.71790880968,7079.3738568078],[0,1,1.9565e-7,2.89351924469,5507.5532386674],[0,1,1.8308e-7,1.46954314992,11790.6290886588],[0,1,1.6471e-7,6.22682639292,11506.7697697936],[0,1,1.6757e-7,3.81935015812,7058.5984613154],[0,1,1.4555e-7,5.97554823531,6290.1893969922],[0,1,1.4388e-7,.68157599309,6275.9623029906],[0,1,1.3921e-7,1.44156172409,796.2980068164],[0,1,1.1845e-7,4.15246503623,4694.0029547076],[0,1,1.2573e-7,.30429978572,7.1135470008],[0,1,1.0073e-7,3.28940171828,3738.761430108],[0,1,1.0425e-7,4.26610810148,6282.0955289232],[0,1,1.0425e-7,2.38242547117,6284.0561710596],[0,2,4143217e-11,3.14159265359,0],[0,2,2175695e-11,4.39999849572,12566.1516999828],[0,2,995233e-11,.20790847155,6283.0758499914],[0,2,9.2659e-7,4.1928547101,18849.2275499742],[0,2,1.3679e-7,3.37833642063,6286.5989683404],[0,2,1.3668e-7,3.27271492019,6279.5527316424],[0,3,175213e-11,3.14159265359,0],[0,3,7.2337e-7,2.89303952476,12566.1516999828],[0,3,8.364e-8,3.85500954096,6283.0758499914],[0,3,5.04e-8,2.53152989786,18849.2275499742],[0,3,1.481e-8,2.23672235234,6438.4962494256],[0,3,1.481e-8,4.41181122031,6127.6554505572],[0,4,4.022e-8,0,0],[0,4,1.927e-8,1.18746233453,12566.1516999828],[1,0,.9998921103,.18265890456,6283.0758499914],[1,0,.02442699036,3.14159265359,0],[1,0,.00835292314,.13952878991,12566.1516999828],[1,0,.00010466965,.09641690558,18849.2275499742],[1,0,3110838e-11,5.38114091484,83996.84731811189],[1,0,2570338e-11,5.3010397336,529.6909650946],[1,0,2147473e-11,2.66253538905,1577.3435424478],[1,0,1709219e-11,5.20780401071,6279.5527316424],[1,0,1707987e-11,4.58232858766,6286.5989683404],[1,0,1440265e-11,1.90068164664,2352.8661537718],[1,0,1135092e-11,5.2731341522,5223.6939198022],[1,0,934539e-11,4.50301201844,12036.4607348882],[1,0,900565e-11,1.6056328812,10213.285546211],[1,0,567126e-11,.58142248753,1059.3819301892],[1,0,744932e-11,2.80728871886,398.1490034082],[1,0,639316e-11,6.02923915017,5753.3848848968],[1,0,681324e-11,.64729627497,4705.7323075436],[1,0,611347e-11,3.81381495286,6812.766815086],[1,0,450435e-11,4.52785572489,5884.9268465832],[1,0,452018e-11,5.99167242707,6256.7775301916],[1,0,449968e-11,3.79880375595,6309.3741697912],[1,0,55139e-10,3.96125249369,5507.5532386674],[1,0,406334e-11,5.25616268027,6681.2248533996],[1,0,541273e-11,5.49902805917,775.522611324],[1,0,54636e-10,6.17311131785,14143.4952424306],[1,0,507084e-11,2.87025193381,7860.4193924392],[1,0,219504e-11,2.95216139568,11506.7697697936],[1,0,227937e-11,5.95179248814,7058.5984613154],[1,0,227792e-11,4.84547074733,4694.0029547076],[1,0,255845e-11,.69454231563,12168.0026965746],[1,0,256132e-11,6.16722512388,709.9330485583],[1,0,179242e-11,1.40003446021,796.2980068164],[1,0,17828e-10,5.11717552231,6283.0085396886],[1,0,17828e-10,4.67307255246,6283.14316029419],[1,0,155454e-11,.05340525434,25132.3033999656],[1,0,206257e-11,4.28366728882,11790.6290886588],[1,0,149769e-11,6.07429023278,5486.777843175],[1,0,200005e-11,2.5014408812,17789.845619785],[1,0,129006e-11,3.64623708634,7079.3738568078],[1,0,128211e-11,3.23254821381,3738.761430108],[1,0,15279e-10,5.5812080045,213.299095438],[1,0,118725e-11,5.45361490488,9437.762934887],[1,1,.00093046324,0,0],[1,1,.00051506609,4.43180499286,12566.1516999828],[1,1,12908e-9,4.3886054854,18849.2275499742],[1,1,46455e-10,5.82729912952,6283.0758499914],[1,1,212689e-11,.16300556918,6279.5527316424],[1,1,212533e-11,3.34400595407,6286.5989683404],[1,1,6.2345e-7,5.07377354827,4705.7323075436],[1,1,5.9794e-7,2.24100907272,6256.7775301916],[1,1,5.9441e-7,1.26619990626,6309.3741697912],[1,1,4.8987e-7,3.64166577835,775.522611324],[1,1,4.2746e-7,5.15177425824,1059.3819301892],[1,1,4.6642e-7,4.715752158,7860.4193924392],[1,1,3.7274e-7,.66041323804,5753.3848848968],[1,1,3.5625e-7,6.15462846966,5884.9268465832],[1,1,3.5373e-7,2.90052012152,6812.766815086],[1,1,3.2157e-7,3.62669702015,6681.2248533996],[1,1,2.8763e-7,4.34539355621,25132.3033999656],[1,1,2.8447e-7,5.86215103214,6127.6554505572],[1,1,2.7502e-7,3.92641632542,6438.4962494256],[1,1,2.483e-7,1.35190115953,5486.777843175],[1,1,2.0618e-7,2.14772396647,7079.3738568078],[1,1,1.9531e-7,1.29958310594,5507.5532386674],[1,1,1.8447e-7,6.17330532651,11790.6290886588],[1,1,1.652e-7,4.63328039489,11506.7697697936],[1,1,1.6754e-7,2.24862220282,7058.5984613154],[1,1,1.456e-7,4.40425761361,6290.1893969922],[1,1,1.4426e-7,5.39226330857,6275.9623029906],[1,1,1.4186e-7,6.18547219419,796.2980068164],[1,1,1.2666e-7,5.73231393752,4694.0029547076],[1,1,1.2966e-7,5.10338935824,7.1135470008],[1,1,1.01e-7,1.72464513593,3738.761430108],[1,1,1.0425e-7,2.69531177468,6282.0955289232],[1,1,1.0425e-7,.81162914438,6284.0561710596],[1,2,5080208e-11,0,0],[1,2,2178016e-11,2.82957544235,12566.1516999828],[1,2,1020487e-11,4.63746718598,6283.0758499914],[1,2,9.2688e-7,2.6221874842,18849.2275499742],[1,2,1.368e-7,1.80736896884,6286.5989683404],[1,2,1.3668e-7,1.70191859339,6279.5527316424],[1,3,128116e-11,3.14159265359,0],[1,3,7.2366e-7,1.32019314413,12566.1516999828],[1,3,1.3847e-7,5.37444701633,6283.0758499914],[1,3,5.044e-8,.96001931081,18849.2275499742],[1,3,1.481e-8,.66592602555,6438.4962494256],[1,3,1.481e-8,2.84101489351,6127.6554505572],[1,4,4.187e-8,3.14159265359,0],[1,4,1.931e-8,5.89883838,12566.1516999828],[2,0,27962e-10,3.19870156017,84334.66158130829],[2,0,101625e-11,5.42248110597,5507.5532386674],[2,1,.00227822442,3.41372504278,6283.0758499914],[2,1,5429282e-11,0,0],[2,1,1903183e-11,3.37061270964,12566.1516999828],[2,1,2.3859e-7,3.32836261978,18849.2275499742],[2,2,9721989e-11,5.15233725915,6283.0758499914],[2,2,349501e-11,3.14159265359,0],[2,2,6.7136e-7,.64403888586,12566.1516999828],[2,3,276077e-11,.5941325873,6283.0758499914],[2,3,2.5551e-7,3.14159265359,0],[2,3,1.81e-8,.11612262117,12566.1516999828],[2,4,5.751e-8,2.27069090892,6283.0758499914],[2,4,1.305e-8,0,0]],Orb.NutationAndObliquity=Orb.NutationAndObliquity||function(e){var t=Orb.Constant.RAD,a=(new Orb.Time(e).jd()-2451545)/36525,r=(125.04452-1934.136261*a+.0020708*a*a+(a*a+a)/45e4)*t,i=(280.4665+36000.7698*a)*t,s=(218.3165+481267.8813*a)*t;return{nutation:function(){return-17.2/3600*Math.sin(r)- -1.32/3600*Math.sin(2*i)-.23/3600*Math.sin(2*s)+.21/3600*Math.sin(2*r)/t},obliquity:function(){return 23.43929111111111-46.815/3600*a-59e-5/3600*a*a+.001813/3600*a*a*a+(9.2/3600*Math.cos(r)+.57/3600*Math.cos(2*i)+.1/3600*Math.cos(2*s)-.09/3600*Math.cos(2*r))}}},Orb.Obliquity=Orb.Obliquity||function(e){return new Orb.NutationAndObliquity(e).obliquity()},Orb.RadecToXYZ=function(e){var t=Orb.Const.RAD,a=15*e.ra,r=e.dec,i=e.distance,s={x:i*Math.cos(r*t)*Math.cos(a*t),y:i*Math.cos(r*t)*Math.sin(a*t),z:i*Math.sin(r*t)};return{x:s.x,y:s.y,z:s.z,coordinate_keywords:"equatorial rectangular",unit_keywords:""}},Orb.XYZtoRadec=function(e){if(e.coordinate_keywords&&e.coordinate_keywords.match(/ecliptic/)){if(e.date)t=e.date;else var t=new Date;a=Orb.EclipticToEquatorial({date:t,ecliptic:e})}else var a=e;var r=Math.PI/180,i=a.x,s=a.y,n=a.z,o=Math.atan2(s,i)/r;o<0&&(o=o%360+360),o>360&&(o%=360);return{ra:o/=15,dec:Math.atan2(n,Math.sqrt(i*i+s*s))/r,distance:Math.sqrt(i*i+s*s+n*n),coordinate_keywords:"equatorial spherical",unit_keywords:"hours degree"}},Orb.EquatorialToEcliptic=function(e){var t=e.date,a=Orb.Obliquity(t),r=e.equatorial,i=Orb.Const.RAD,s={x:r.x,y:Math.cos(a*i)*r.y+Math.sin(a*i)*r.z,z:-Math.sin(a*i)*r.y+Math.cos(a*i)*r.z};return{x:s.x,y:s.y,z:s.z,date:t,coordinate_keywords:"ecliptic rectangular",unit_keywords:""}},Orb.EclipticToEquatorial=function(e){var t=e.date,a=e.ecliptic,r=Orb.Const.RAD,i=(new Orb.Earth).xyz(t),s=a.x-i.x,n=a.y-i.y,o=a.z-i.z,u=Orb.Obliquity(e.date),h={x:s,y:n*Math.cos(u*r)-o*Math.sin(u*r),z:n*Math.sin(u*r)+o*Math.cos(u*r)};return{x:h.x,y:h.y,z:h.z,date:t,coordinate_keywords:"equatorial rectangular",unit_keywords:""}},Orb.Observer=Orb.Observer||function(e){var t=Orb.Constant.RAD;Math.sqrt(1-.006674372230614*Math.cos(e.latitude*t));this.latitude=e.latitude,this.longitude=e.longitude,this.altitude=e.altitude},Orb.Observer.prototype={rectangular:function(e){var t=Orb.Constant.RAD,a=this.latitude,r=this.longitude,i=15*e.gmst()+r,s=6378.135+this.altitude,n=.00335277945,o=Math.sin(a*t),u=1/Math.sqrt(1+n*(n-2)*o*o),h=(1-n)*(1-n)*u;return{x:s*u*Math.cos(a*t)*Math.cos(i*t),y:s*u*Math.cos(a*t)*Math.sin(i*t),z:s*h*Math.sin(a*t)}}},Orb.Observation=Orb.Observation||function(e){this.observer=e.observer,this.target=e.target},Orb.Observation.prototype={RadecToHorizontal:function(e,t){var a=Orb.Constant.RAD,r=this.observer,i=Number(t.ra),s=Number(t.dec);if(void 0!=t.distance)n=Number(t.distance);else var n=void 0;var o=Number(r.latitude),u=Number(r.longitude);Number(r.altitutude);s*=a;var h=(15*e.gmst()+u-15*i)*a,c=o*a,d=Math.atan2(-Math.cos(s)*Math.sin(h),Math.sin(s)*Math.cos(c)-Math.cos(s)*Math.sin(c)*Math.cos(h))/a,l=Math.asin(Math.sin(s)*Math.sin(c)+Math.cos(c)*Math.cos(s)*Math.cos(h))/a;return d<0&&(d=d%360+360),{azimuth:d,elevation:l,distance:n}},RectToHorizontal:function(e,t){var a=Orb.Constant.RAD,r=this.observer,i=r.latitude,s=r.longitude,n=new Orb.Observer(r).rectangular(e),o=t.x-n.x,u=t.y-n.y,h=t.z-n.z,c=15*e.gmst()+s,d=Math.sin(i*a)*Math.cos(c*a)*o+Math.sin(i*a)*Math.sin(c*a)*u-Math.cos(i*a)*h,l=-Math.sin(c*a)*o+Math.cos(c*a)*u,b=Math.cos(i*a)*Math.cos(c*a)*o+Math.cos(i*a)*Math.sin(c*a)*u+Math.sin(i*a)*h,M=Math.sqrt(d*d+l*l+b*b),m=Math.asin(b/M),y=Math.atan2(-l,d);return(y=y/a+180)>360&&(y%=360),{azimuth:y,elevation:m,distance:M}},azel:function(e){function t(e){return e.unit_keywords.match(/km/)?"km":e.unit_keywords.match(/au/)?"au":void 0}Orb.Constant.RAD;var a=this.target,r=(this.observer,new Orb.Time(e));if(void 0!=a.ra&&void 0!=a.dec)var i=this.RadecToHorizontal(r,a),s="au";else if(void 0!=a.x&&void 0!=a.y&&void 0!=a.z){if(a.coordinate_keywords.match(/ecliptic/)){if(void 0!=a.date)n=a.date;else var n=e;u=Orb.EclipticToEquatorial({date:n,ecliptic:a})}else u=a;var i=this.RectToHorizontal(r,u),s=t(u)}else if(void 0!=a.radec)var o=a.radec(e),i=this.RadecToHorizontal(r,o),s=t(o);else if(void 0!=a.xyz)var u=a.xyz(e),i=this.RectToHorizontal(r,u),s=t(u);return{azimuth:i.azimuth,elevation:i.elevation,distance:i.distance,date:e,coordinate_keywords:"horizontal spherical",unit_keywords:"degree "+s}}};